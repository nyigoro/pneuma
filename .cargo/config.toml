[build]
# Default to musl for portability
# Override with: cargo build --target x86_64-unknown-linux-gnu

[target.x86_64-unknown-linux-musl]
linker = "clang"
rustflags = [
    "-C", "link-arg=-fuse-ld=lld",
    "-C", "link-arg=-static",
    "-C", "link-arg=-lc",
    "-C", "linker-plugin-lto",
    "-C", "link-arg=-flto",
]

[target.aarch64-unknown-linux-musl]
linker = "clang"
rustflags = [
    "-C", "link-arg=-fuse-ld=lld",
    "-C", "link-arg=-static",
]

[env]
OPENSSL_STATIC = "1"
OPENSSL_NO_VENDOR = "0"
